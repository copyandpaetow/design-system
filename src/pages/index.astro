---
import ComponentsPreview, {
	previewData,
} from "../features/components-preview/components-preview.astro";
import Layout from "../layout/page.astro";
import { titleToId } from "../utils/element-ids";
---

<Layout title="design system">
	<nav>
		<ul>
			{
				Object.keys(previewData).map((entry) => (
					<li>
						<a href={`#${titleToId(entry)}`}>{entry}</a>
					</li>
				))
			}
		</ul>
	</nav>
	<header><h1>design system</h1></header>
	<ComponentsPreview />
	<footer></footer>
</Layout>

<style>
	body {
		display: grid;
		grid-template-areas:
			"nav header"
			"nav main"
			"nav footer";
		grid-template-columns: 1fr minmax(18rem, 60rem) 1fr;

		> nav {
			grid-area: nav;
			display: grid;
			grid-auto-flow: row;
			grid-auto-rows: min-content;
			padding: 1rem;
			padding-top: 3rem;
			position: sticky;
			top: 0;
			max-height: 100dvh;
			align-self: start;
			justify-self: center;
		}

		> header {
			grid-area: header;
			padding: 1rem;
			justify-self: center;
		}

		> main {
			grid-area: main;
		}

		> footer {
			grid-area: footer;
			height: 20dvh;
		}
	}
</style>
